<!DOCTYPE html>
<html lang="en">
<head>
    <!--Para que Google no indexe este index-->
    <meta name="googlebot" content="noindex" />
    <meta name="googlebot-news" content="nosnippet" />
    <meta name="robots" content="noindex, nofollow" />
    <!---->

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@200..900&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="./css/style.css?v7">

    <style>
        #gpt_zocalo, 
        #clever-45754-sticky-footer-shadow,
        #browsi_wrapper_0_ai_1_rc_0,
        #browsi_wrapper_1_ai_1_rc_0,
        #browsi_wrapper_2_ai_1_rc_0,
        #browsi_wrapper_3_ai_1_rc_0,
        #browsi_wrapper_4_ai_1_rc_0,
        #browsi_wrapper_5_ai_1_rc_0,
         #browsi_wrapper_6_ai_1_rc_0,
        #browsi_wrapper_7_ai_1_rc_0,
        #browsi_wrapper_8_ai_1_rc_0,
        #browsi_wrapper_9_ai_1_rc_0,
        #browsi_wrapper_10_ai_1_rc_0,
        .fs-sticky-footer,
        .orp-player-wrapper,
        #clever-45754-sticky-footer,
        #elcomercio_zocalo{
                display: none !important;
                height: 0 !important;
        }   
        .nav-d__main-scroll.scrolled{
            z-index: 9999;
        }
    </style>

</head>
<body>
    
    <div class="box-header"> 
        <div class="ctn-header">
            
            <div id="social">
                <button id="fb" class="sharer button" data-sharer="facebook" data-hashtag="" data-url="#">Facebook</button>
        
                <button id="wst" class="sharer button" data-sharer="whatsapp" data-title="El Comercio" data-url="#">Whatsapp</button>
        
                <button id="tw" class="sharer button" data-sharer="twitter" data-title="El Comercio" data-hashtags="" data-via="elcomercio_peru" data-url="#">Twitter</button>
            </div>
        </div>  
    </div>

    <div id="startScreen">
        <div class="box-titular">
                        
            <h1>
                Trump 
                <br>
                o 
                <br>
                Harris
            </h1>
            <p>
                ¿Con qué candidato simpatizas más?
            </p>
            <button onclick="startQuiz()">Empezar</button>
        </div>      
        <div class="box-footer">
            <p>
                <span>Encuesta:</span> Mundo El Comercio               
            </p>
            <p>
                <span>Realización:</span> Nuevas Narrativas EC
            </p>
        </div>
    </div>

    <div class="box-main-trivia" id="box-main-trivia">    
        <div class="box-header-interior">
            <p>Trump o Harris</p>
        </div>    
        <form id="quizForm">
            <div class="question" id="question1">         
                <h6 class="contador" id="uno">
                    <span>1</span>/6
                </h6>
                <p>Inmigración</p>
                <div class="box-preguntas">
                    <label>
                        <input type="radio" name="q1" value="Trump">A. “El crimen en Venezuela… ha disminuido mucho porque han sacado a sus criminales de las calles y se los han entregado a [mi rival] para que los introduzca en nuestro país”.
                    </label>
                    <label>
                        <input type="radio" name="q1" value="Harris">B. “Sé que podemos estar a la altura de nuestra orgullosa herencia como nación de inmigrantes y reformar nuestro maltrecho sistema de inmigración".
                    </label>                  
                </div>    
                <div class="box-botones">
                    <button class="siguiente" type="button" onclick="nextQuestion(1)" disabled>Continuar</button>
                </div>                
            </div>
    
            <div class="question" id="question2">
                <h6 class="contador" id="dos">
                    <span>2</span>/6
                </h6>
                <p class="small">Economía</p>
                <div class="box-preguntas">
                    <label>
                        <input type="radio" name="q2" value="Trump">A. “Cuanto más alto sea el arancel, más probable es que la empresa venga a EE.UU., y construya una fábrica en EE.UU. para no tener que pagar el arancel”.
                    </label>
                    <label>
                        <input type="radio" name="q2" value="Harris">B. "Mi plan económico fortalecerá la economía de Estados Unidos porque fortalecerá las pequeñas empresas. El de [mi rival] la debilitará".
                    </label> 
                </div>
                <div class="box-botones">
                    <button class="previo" type="button" onclick="prevQuestion(2)">
                        <img src="./img/btn-previo.png" alt="" width="100%">
                    </button>
                    <button class="siguiente" type="button" onclick="nextQuestion(2)" disabled>Continuar</button>
                </div>                
            </div>
    
            <div class="question" id="question3">
                <h6 class="contador" id="tres">
                    <span>3</span>/6
                </h6>
                <p>La guerra en Gaza</p>
                <div class="box-preguntas">
                    <label>
                        <input type="radio" name="q3" value="Trump">A. “Los israelíes están perdiendo la guerra de las relaciones públicas. La están perdiendo a lo grande. Pero tienen que terminar lo que empezaron, y tienen que terminarlo rápido, y nosotros tenemos que seguir con nuestra vida”.
                    </label>
                    <label>
                        <input type="radio" name="q3" value="Harris">B. “Esto debe terminar de inmediato, y la forma en que terminará es que necesitamos un acuerdo de alto el fuego y necesitamos que los rehenes salgan”. 
                    </label> 
                </div>
                <div class="box-botones">
                    <button class="previo" type="button" onclick="prevQuestion(3)">
                        <img src="./img/btn-previo.png" alt="" width="100%">
                    </button>
                    <button class="siguiente" type="button" onclick="nextQuestion(3)" disabled>Continuar</button>
                </div>                
            </div>
    
            <div class="question" id="question4">
                <h6 class="contador" id="cuatro">
                    <span>4</span>/6
                </h6>
                <p>La guerra en Ucrania </p>
                <div class="box-preguntas">
                    <label>
                        <input type="radio" name="q4" value="Harris">B. “[Mi rival] habla de que puede acabar con la guerra el primer día. ¿Sabe lo que es eso? Se trata de rendirse".
                    </label> 
                    <label>
                        <input type="radio" name="q4" value="Trump">A. "Cualquier acuerdo -el peor acuerdo- habría sido mejor que lo que tenemos ahora. Habrían cedido un poco y todo el mundo estaría viviendo. ¿Qué trato podemos hacer? Todo está demolido. El país está en escombros".
                    </label>                    
                </div>            
                <div class="box-botones">
                    <button class="previo" type="button" onclick="prevQuestion(4)">
                        <img src="./img/btn-previo.png" alt="" width="100%">
                    </button>
                    <button class="siguiente" type="button" onclick="nextQuestion(4)" disabled>Continuar</button>
                </div>                
            </div>

            <div class="question" id="question5">
                <h6 class="contador" id="cinco">
                    <span>5</span>/6
                </h6>
                <p>Aborto</p>
                <div class="box-preguntas">
                    <label>
                        <input type="radio" name="q5" value="Harris">B. “Debemos volver a poner en la ley las protecciones para la libertad reproductiva y para la capacidad de cada persona y cada mujer para tomar decisiones sobre su propio cuerpo".
                    </label> 
                    <label>
                        <input type="radio" name="q5" value="Trump">A. “[Si gano, las mujeres] serán felices, saludables, seguras y libres. Ya no pensarán más en el aborto”.
                    </label>                    
                </div>            
                <div class="box-botones">
                    <button class="previo" type="button" onclick="prevQuestion(5)">
                        <img src="./img/btn-previo.png" alt="" width="100%">
                    </button>
                    <button class="siguiente" type="button" onclick="nextQuestion(5)" disabled>Continuar</button>
                </div>                
            </div>  

            <div class="question" id="question6">
                <h6 class="contador" id="seis">
                    <span>6</span>/6
                </h6>
                <p>Clima</p>
                <div class="box-preguntas">
                    <label>
                        <input type="radio" name="q5" value="Harris">B. “La ciencia es clara. El clima extremo solo empeorará y la crisis climática solo se acelerará”.
                    </label> 
                    <label>
                        <input type="radio" name="q5" value="Trump">A. “Han gastado millones de dólares que tienen que ver con la nueva estafa verde. Es una estafa... [Estados Unidos necesita] un líder que rechace la nueva estafa verde de mi rival”.
                    </label>                    
                </div>            
                <div class="box-botones">
                    <button class="previo" type="button" onclick="prevQuestion(6)">
                        <img src="./img/btn-previo.png" alt="" width="100%">
                    </button>
                    <button class="siguiente" type="button" onclick="calculateResult()" disabled>Ver resultado</button>
                </div>                
            </div>  
        </form>  
    </div>

    <div class="box-main-result" id="box-main-result">        
        <div class="result" id="result">            
        </div>        
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>   

    <!-- compartir -->
    <script>
        function shareUrl(event) {
            const button = event.target;
            const url = button.getAttribute('data-url');
            
            const sharer = button.getAttribute('data-sharer');
            let shareUrl = '';

            switch (sharer) {
            case 'facebook':
                const fbHashtag = button.getAttribute('data-hashtag') || '';
                shareUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}&hashtag=${encodeURIComponent(fbHashtag)}`;
                break;
                
            case 'whatsapp':
                const whatsappTitle = button.getAttribute('data-title');
                shareUrl = `https://api.whatsapp.com/send?text=${encodeURIComponent(whatsappTitle + ' ' + url)}`;
                break;
                
            case 'twitter':
                const twitterTitle = button.getAttribute('data-title');
                const twitterHashtags = button.getAttribute('data-hashtags');
                const twitterVia = button.getAttribute('data-via');
                shareUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(twitterTitle)}&url=${encodeURIComponent(url)}&hashtags=${twitterHashtags}&via=${twitterVia}`;
                break;
            }

            window.open(shareUrl, '_blank');
        }

        document.querySelectorAll('.sharer').forEach(button => {
            button.addEventListener('click', shareUrl);
        });
    </script>

    <!-- trivia -->
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            document.getElementById('startScreen').style.display = 'block';
        });

        function startQuiz() {
            document.getElementById('startScreen').style.display = 'none';
            document.getElementById('box-main-trivia').style.display = 'block';
            document.getElementById('quizForm').style.display = 'block';
            showQuestion(1);
        }

        function showQuestion(questionNumber) {
            const questions = document.querySelectorAll('.question');
            questions.forEach((question, index) => {
                question.classList.remove('active');
                if (index === questionNumber - 1) {
                    question.classList.add('active');
                }
            });
        }

        function nextQuestion(current) {
            showQuestion(current + 1);
        }

        function prevQuestion(current) {
            showQuestion(current - 1);
        }

        function calculateResult() {
            const form = document.getElementById('quizForm');
            const values = {
                'Trump': 0,
                'Harris': 0
            };

            const descriptions = {
                'Trump': '<img src="./img/bg-resultado-trump.jpg" alt="Trump" width="100%"><h4 id="trump"><span>Te identificas con</span>Donald Trump</h4><p><span>Tus posturas en temas clave te acercan más a las ideas y propuestas del candidato republicano Donald Trump.</span> El expresidente ha centrado su campaña en la promesa de mano dura frente a la inmigración y ha prometido deportaciones masivas. En cuanto a la economía propone extender los recortes de impuestos promulgados en el 2017 para beneficiar a individuos y empresas por igual y volver a imponer aranceles a la mayoría de los productos extranjeros, sobre todo a aquellos procedentes de China.</p>',
                'Harris': '<img src="./img/bg-resultado-harris.jpg" alt="Harris" width="100%"><h4 id="harris"><span>Te identificas con</span>Kamala Harris</h4><p><span>Tus posturas en temas clave te acercan más a las ideas y propuestas de la candidata demócrata Kamala Harris.</span> La vicepresidenta ha dicho que el sistema de inmigración es fallido y que debe arreglarlo. Responsabiliza a Trump por haber bloqueado una iniciativa bipartidista que hubiera podido aportar algunas soluciones al espinoso tema. En cuanto a la economía busca mayores beneficios fiscales para las familias de clase media y trabajadora, pero aumentando los impuestos para los más ricos. </p>'
            };

            const answers = new FormData(form);

            for (let [key, value] of answers.entries()) {
                values[value]++;
            }

            let result = '';
            let max = 0;

            for (let [key, value] of Object.entries(values)) {
                if (value > max) {
                    max = value;
                    result = key;
                }
            }

            // Oculta la pregunta 6
            document.querySelector('.question.active').classList.remove('active');
            document.getElementById('box-main-trivia').style.display = 'none';
            document.getElementById('box-main-result').style.display = 'block';
            document.getElementById('result').style.display = 'block';

            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = `
                <div class="box-ctn-resultado"> 
                    ${descriptions[result]}            
                    <a href="./index.html">Intentar de nuevo</a>
                </div>
                <div class="box-footer footer-resultado">
                    <p>
                        <span>Encuesta:</span> Mundo El Comercio                
                    </p>
                    <p>
                        <span>Realización:</span> Nuevas Narrativas EC
                    </p>
                </div>`;
        }

        document.querySelectorAll('input[type="radio"]').forEach(radio => {
            radio.addEventListener('change', (event) => {
                const currentQuestion = event.target.closest('.question');
                const nextButton = currentQuestion.querySelector('button[onclick^="nextQuestion"], button[onclick="calculateResult()"]');
                nextButton.disabled = false;
            });
        });


    </script>
    
    <!-- active label -->
    <script>
        document.querySelectorAll('.box-preguntas label').forEach(label => {
            label.addEventListener('click', function() {
                document.querySelectorAll('.box-preguntas label').forEach(label => label.classList.remove('active'));               
                this.classList.add('active');
            });
        });

    </script>


</body>
</html>